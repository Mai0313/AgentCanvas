services:
  AgentCanvas:
    image: ghcr.io/mai0313/agentcanvas:latest
    build:
      context: .
      dockerfile: ./docker/Dockerfile
      target: prod
    environment:
      VITE_API_TYPE: openai
      VITE_API_KEY: srv_dvc_tma001
      VITE_BASE_URL: https://tma.mediatek.inc/tma/sdk/api
      VITE_TEMPERATURE: 0.7
      VITE_MAX_TOKENS: 2048
      VITE_AZURE_DEPLOYMENT: ""
      VITE_AZURE_API_VERSION: 2025-03-01-preview
    command:
      - yarn
      - start
      # - dev
      - --host=0.0.0.0
      - --port=3000
    ports:
      - 8787:3000
    volumes:
      - ./.env:/app/.env
    pull_policy: always
    restart: always
